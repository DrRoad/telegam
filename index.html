<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Telegam</title>
</head>
<link rel="stylesheet" href="css/src/style.css">
<link rel="stylesheet" href="css/src/header.css">
<link href="css/vendor/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/vendor/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/vendor/nouislider.min.css">

<script src="js/vendor/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="js/vendor/d3.v4.min.js"></script>
<script type="text/javascript" src="js/vendor/d3.tip.js"></script>
<script src="js/vendor/bootstrap.bundle.min.js"></script>
<script src="js/vendor/bootstrap.min.js"></script>
<script src="js/vendor/nouislider.min.js"></script>
<script src="js/vendor/wNumb.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega@5.4.0/build/vega.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@3.3.0/build/vega-lite.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@4.2.0/build/vega-embed.js"></script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/brands.css"
      integrity="sha384-BKw0P+CQz9xmby+uplDwp82Py8x1xtYPK3ORn/ZSoe6Dk3ETP59WCDnX+fI1XCKK" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/fontawesome.css"
      integrity="sha384-4aon80D8rXCGx9ayDt85LbyUHeMWd3UiBaWliBlJ53yzm9hqN21A+o1pqoyK04h+" crossorigin="anonymous">

<body>
<div id="header-wrapper">
    <header>
        <div id="header-title-wrapper">
            <div style="display: flex">
                <!-- <span>
                                <i id="menu-icon" class="material-icons feature-icon">menu</i>
                            </span> -->
                <div id="header-title">TeleGam</div>
            </div>
        </div>

        <!--<div class="header-content">-->
            <!--<span class="smalltext-header">model</span>-->
            <!--<div id="model-name" class="header-value">&nbsp;</div>-->
        <!--</div>-->

        <!--<div class="header-content">-->
            <!--<span id="instances-name" class="smalltext-header">instances</span>-->
            <!--<div id="instances-value" class="header-value">&nbsp;</div>-->
        <!--</div>-->

        <div id="header-icon">
            <!-- <div style="display: flex; flex-direction: column; justify-content: center; padding-right: 20px;">
                <a id="header-icon-link" href="https://youtube.com/">
                    <i class="fab fa-lg fa-youtube"></i>
                </a>
            </div> -->
            <!-- <div style="display: flex; flex-direction: column; justify-content: center">
                <a id="header-icon-link" href="https://github.com/">
                    <i class="fab fa-lg fa-github"></i>
                </a>
            </div> -->
        </div>
    </header>
</div>

<div id="wrapper">
    <div class="row">
        <div id="options" class="col-md-3">
            <i class="fa fa-database"></i>:
            <select id="datasetSelector">
                <option value="housing-gam-instance-data">Housing</option>
                <option value="ames-housing-gam-instance-data">AMES-Housing</option>
                <option value="diamonds-gam-instance-data">Diamonds</option>
                <option value="red-wine-gam-instance-data">Wine</option>
            </select>
            <br><br>
            <!--<b>Sort by magnitude</b> <input id="sortByMagnitudeCheckbox" type="checkbox" checked>-->
            <!--<br><br>-->
            <!--<input id="sentenceDisplayCheckbox" type="checkbox" checked> Show summary-->
            <b>Sort by magnitude:</b>
            <label class="switch">
                <input type="checkbox" id="sortByMagnitudeCheckbox" checked>
                <span class="slider round"></span>
            </label>
            <br><br>
            <!--Summary type:-->
            <span style="display: flex;">
                <p><b>Summary type:</b>&nbsp;&nbsp;</p>
                <p>Brief</p>&nbsp;&nbsp;&nbsp;&nbsp;
                <div id="detail-slider" class="detailLevelSlider"></div>
                <p>Detailed</p>
            </span>
            <br>
            <div style="border: 1px solid var(--border-color)">
                <button class="collapsible" style="border-bottom: 1px solid var(--border-color)">Model Summary</button>
                <div class="content" id="modelSummary">
                </div>
                <button class="collapsible" style="border-bottom: 1px solid var(--border-color)">Single Chart Summary Fact Configuration</button>
                <div class="content">
                    <br>
                    contributionPercentageThreshold:
                    <div id="contribution-threshold-slider" class="thresholdSlider"></div>
                    <!--<br><br>-->
                    <!--Summary type:-->
                    <!--<span style="display: flex;">-->
                    <!--Brief&nbsp;&nbsp;&nbsp;&nbsp;-->
                    <!--<div id="instance-summary-detail-slider" class="detailLevelSlider"></div>-->
                    <!--&nbsp;&nbsp;&nbsp;&nbsp;Detailed-->
                    <!--</span>-->
                </div>
                <button class="collapsible">Comparison Fact Configuration</button>
                <div class="content">
                    <br>
                    totalPredictionSimilarityThreshold:
                    <div id="total-prediction-min-threshold-slider" class="thresholdSlider"></div>
                    <br><br>
                    totalPredictionDifferenceThreshold:
                    <div id="total-prediction-max-threshold-slider" class="thresholdSlider"></div>
                    <br><br>
                    featurePredictionThreshold:
                    <div id="feature-prediction-threshold-slider" class="thresholdSlider"></div>
                    <br><br>
                    featurePredictionCountThreshold:
                    <div id="feature-prediction-count-threshold-slider" class="thresholdSlider"></div>
                    <!--<br><br>-->
                    <!--Summary type:-->
                    <!--<span style="display: flex;">-->
                    <!--Brief&nbsp;&nbsp;&nbsp;&nbsp;-->
                    <!--<div id="summary-detail-slider" class="detailLevelSlider"></div>-->
                    <!--&nbsp;&nbsp;&nbsp;&nbsp;Detailed-->
                    <!--</span>-->
                </div>
            </div>
        </div>

        <!--<hr>-->

        <div id="vis" class="col-md-9 row">
            <div class="col-md-5" id="summaryDiv">
                <div class="instanceSummaryRow">
                    <h5>Base Instance Summary</h5>
                    <!-- <br> -->
                    <span id="baseInstanceSummary"></span>
                    <br>
                </div>
                <div class="instanceSummaryRow">
                    <!-- <hr> -->
                    <h5>Comparison Summary</h5>
                    <!-- <br> -->
                    <span id="instanceComparisonSummary"></span>
                    <!-- <hr> -->
                </div>
                <div class="instanceSummaryRow">
                    <h5>Compared Instance Summary</h5>
                    <span id="comparedInstanceSummary"></span>
                </div>
            </div>
            <div class="col-md-7">
                <table>
                    Base instance: <select id="vis-1-instance-selector"></select>
                    <div id="instance-1-details">
                        Instance <span id="baseInstanceId"></span>, Actual: <span id="vis-1-actual" class="instanceValue"></span>, Prediction: <span id="vis-1-prediction" class="instanceValue"></span>
                    </div>
                    <div id="vis-1" class="visDiv"></div>
                    <div id="compared-instance-div" style="display: none;">
                        <div id="vis-2" class="visDiv"></div>
                        <div id="instance-2-details">
                            Instance <span id="comparedInstanceId"></span>, Actual: <span id="vis-2-actual" class="instanceValue"></span>, Prediction: <span id="vis-2-prediction" class="instanceValue"></span>
                        </div>
                        Compared instance: <select id="vis-2-instance-selector"></select>
                    </div>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="modelSummaryTooltip"></div>

</body>

<script type="text/javascript" src="js/src/utils.js"></script>
<script type="text/javascript" src="js/src/instanceComparisonSummarizer.js"></script>
<script type="text/javascript" src="js/src/main.js"></script>
<script type="text/javascript">
    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
                content.style.display = "none";
            } else {
                content.style.display = "block";
            }
        });
    }
</script>
</html>